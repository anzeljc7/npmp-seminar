<?xml version="1.0" encoding="UTF-8"?>
<sbml xmlns="http://www.sbml.org/sbml/level3/version1/core" level="3" version="1">
  <model id="CFFL_Persistence_Detector" name="Coherent Feed-Forward Loop (AND Logic)">
    
    <listOfCompartments>
      <compartment id="cell" spatialDimensions="3" size="1" constant="true"/>
    </listOfCompartments>

    <listOfSpecies>
      <species id="X" compartment="cell" initialAmount="0" hasOnlySubstanceUnits="false" boundaryCondition="true" constant="false"/>
      <species id="Y" compartment="cell" initialAmount="0" hasOnlySubstanceUnits="false" boundaryCondition="false" constant="false"/>
      <species id="Z" compartment="cell" initialAmount="0" hasOnlySubstanceUnits="false" boundaryCondition="false" constant="false"/>
    </listOfSpecies>

    <listOfParameters>
      <parameter id="k_syn_Y" value="10" constant="true"/>
      <parameter id="k_syn_Z" value="10" constant="true"/>
      
      <parameter id="k_deg_Y" value="0.5" constant="true"/>
      <parameter id="k_deg_Z" value="0.5" constant="true"/>
      
      <parameter id="K_XY" value="4" constant="true"/> <parameter id="K_XZ" value="4" constant="true"/> <parameter id="K_YZ" value="4" constant="true"/> <parameter id="n" value="4" constant="true"/>
    </listOfParameters>

    <listOfReactions>
      <reaction id="R_syn_Y" reversible="false" fast="false">
        <listOfProducts>
          <speciesReference species="Y" stoichiometry="1" constant="true"/>
        </listOfProducts>
        <kineticLaw>
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <times/>
              <ci> k_syn_Y </ci>
              <apply>
                <divide/>
                <apply>
                  <power/>
                  <ci> X </ci>
                  <ci> n </ci>
                </apply>
                <apply>
                  <plus/>
                  <apply>
                    <power/>
                    <ci> K_XY </ci>
                    <ci> n </ci>
                  </apply>
                  <apply>
                    <power/>
                    <ci> X </ci>
                    <ci> n </ci>
                  </apply>
                </apply>
              </apply>
            </apply>
          </math>
        </kineticLaw>
      </reaction>

      <reaction id="R_deg_Y" reversible="false" fast="false">
        <listOfReactants>
          <speciesReference species="Y" stoichiometry="1" constant="true"/>
        </listOfReactants>
        <kineticLaw>
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <times/>
              <ci> k_deg_Y </ci>
              <ci> Y </ci>
            </apply>
          </math>
        </kineticLaw>
      </reaction>

      <reaction id="R_syn_Z" reversible="false" fast="false">
        <listOfProducts>
          <speciesReference species="Z" stoichiometry="1" constant="true"/>
        </listOfProducts>
        <kineticLaw>
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <times/>
              <ci> k_syn_Z </ci>
              <apply>
                <divide/>
                <apply>
                  <power/>
                  <ci> X </ci>
                  <ci> n </ci>
                </apply>
                <apply>
                  <plus/>
                  <apply>
                    <power/>
                    <ci> K_XZ </ci>
                    <ci> n </ci>
                  </apply>
                  <apply>
                    <power/>
                    <ci> X </ci>
                    <ci> n </ci>
                  </apply>
                </apply>
              </apply>
              <apply>
                <divide/>
                <apply>
                  <power/>
                  <ci> Y </ci>
                  <ci> n </ci>
                </apply>
                <apply>
                  <plus/>
                  <apply>
                    <power/>
                    <ci> K_YZ </ci>
                    <ci> n </ci>
                  </apply>
                  <apply>
                    <power/>
                    <ci> Y </ci>
                    <ci> n </ci>
                  </apply>
                </apply>
              </apply>
            </apply>
          </math>
        </kineticLaw>
      </reaction>

      <reaction id="R_deg_Z" reversible="false" fast="false">
        <listOfReactants>
          <speciesReference species="Z" stoichiometry="1" constant="true"/>
        </listOfReactants>
        <kineticLaw>
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <times/>
              <ci> k_deg_Z </ci>
              <ci> Z </ci>
            </apply>
          </math>
        </kineticLaw>
      </reaction>
    </listOfReactions>

    <listOfEvents>
      <event id="Event_ShortPulse_Start" useValuesFromTriggerTime="true">
        <trigger initialValue="false" persistent="true">
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <geq/>
              <csymbol encoding="text" definitionURL="http://www.sbml.org/sbml/symbols/time"> time </csymbol>
              <cn type="integer"> 10 </cn>
            </apply>
          </math>
        </trigger>
        <listOfEventAssignments>
          <eventAssignment variable="X">
            <math xmlns="http://www.w3.org/1998/Math/MathML">
              <cn type="integer"> 10 </cn>
            </math>
          </eventAssignment>
        </listOfEventAssignments>
      </event>

      <event id="Event_ShortPulse_End" useValuesFromTriggerTime="true">
        <trigger initialValue="false" persistent="true">
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <geq/>
              <csymbol encoding="text" definitionURL="http://www.sbml.org/sbml/symbols/time"> time </csymbol>
              <cn type="integer"> 15 </cn>
            </apply>
          </math>
        </trigger>
        <listOfEventAssignments>
          <eventAssignment variable="X">
            <math xmlns="http://www.w3.org/1998/Math/MathML">
              <cn type="integer"> 0 </cn>
            </math>
          </eventAssignment>
        </listOfEventAssignments>
      </event>

      <event id="Event_LongPulse_Start" useValuesFromTriggerTime="true">
        <trigger initialValue="false" persistent="true">
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <geq/>
              <csymbol encoding="text" definitionURL="http://www.sbml.org/sbml/symbols/time"> time </csymbol>
              <cn type="integer"> 40 </cn>
            </apply>
          </math>
        </trigger>
        <listOfEventAssignments>
          <eventAssignment variable="X">
            <math xmlns="http://www.w3.org/1998/Math/MathML">
              <cn type="integer"> 10 </cn>
            </math>
          </eventAssignment>
        </listOfEventAssignments>
      </event>

      <event id="Event_LongPulse_End" useValuesFromTriggerTime="true">
        <trigger initialValue="false" persistent="true">
          <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
              <geq/>
              <csymbol encoding="text" definitionURL="http://www.sbml.org/sbml/symbols/time"> time </csymbol>
              <cn type="integer"> 70 </cn>
            </apply>
          </math>
        </trigger>
        <listOfEventAssignments>
          <eventAssignment variable="X">
            <math xmlns="http://www.w3.org/1998/Math/MathML">
              <cn type="integer"> 0 </cn>
            </math>
          </eventAssignment>
        </listOfEventAssignments>
      </event>
    </listOfEvents>

  </model>
</sbml>